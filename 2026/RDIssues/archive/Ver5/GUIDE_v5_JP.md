# Ver5 内部構造・理論解説ガイド

Ver5は、R&Dマネジメントにおける意思決定の質を高めるため、学術的なシミュレーション理論を実務に落とし込んでいます。本ガイドでは、その設計思想と理論的背景を解説します。

## 1. 離散イベントシミュレーション (DES) とモンテカルロ法
R&D工程は、「ジョブが到着し、リソースが空くのを待ち、作業を行い、完了または手戻りが発生する」というイベントの連鎖で成り立っています。
Ver5では、これを**離散イベントシミュレーション (DES)**として忠実に再現しています。

- **モンテカルロ法**: 乱数を用いて数千回の試行を繰り返すことで、単一の「平均値」ではなく、起こりうる結果の「分布」を捉えます。これにより、「10回に1回発生する地獄（P90リスク）」を定量化できます。

## 2. 検証ゲート (Quality Gates) の設計思想
シミュレーション結果を無批判に受け入れるのではなく、一定の品質基準を設けることで、モデルの信頼性を担保します。

- **Gate 1: 実効性 (Effectiveness)**: 設定した改善案が、ビジネス上のKIP（スループットなど）を達成しているかを即座に判定します。
- **Gate 2: 安定性 (Stability)**: 変動係数(CV)を用いて、結果が偶然のばらつきに支配されていないかを確認します。CVが高すぎる場合は、パラメータ設定の矛盾や極端な不安定性を疑う必要があります。
- **Gate 3: 精度 (Precision)**: 信頼区間の幅を確認します。試行回数(n_trials)が不足していると信頼区間が広くなり、意思決定には使えません。

## 3. 実験計画法 (DOE) とパラメータ空間
R&Dの現場では、「何が一番効くのか？」が不明確な場合が多いです。
Ver5では、**Latin Hypercube Sampling (LHS)** を用いて、パラメータ空間（スキル、依存度など）を効率的にサンプリングします。

- **なぜLHSか？**: 単純なランダムサンプリングに比べ、各パラメータの全範囲を均等にカバーできるため、少ない試行回数で効率的に感度分析を行うことが可能です。
- **反応面 (Response Surface)**: パラメータの変化がスループットにどう影響するかを散布図で見ることで、改善の「限界効用（どこから先は改善しても伸びが鈍くなるか）」を視覚化します。

## 4. 統計的有意性の重要性
「改善案を入れたら平均待ち時間が1日減った」としても、それが偶然（ノイズ）である可能性があります。
Ver5では、**95%信頼区間**と、Baselineとの**重なり判定**を行うことで、「統計的に意味のある改善と言えるか」を厳密に判定します。

## 5. 参考文献
- Discrete Event Simulation のモデリング・ベストプラクティス
- Project プロセスへの DES モデル応用
- ソフトウェアプロセスシミュレーションのメトリクス体系
- GERT などの確率分岐モデル
