# Ver5 初心者向けガイド：はじめての実験主導型シミュレーション

DX4MGR Ver5へようこそ！
Ver5は非常に強力なツールですが、使い方はシンプルです。このガイドでは、最初の解析を成功させるためのステップを説明します。

## ステップ1：解析の目的を決める
解析を始める前に、何を確かめたいかを明確にしましょう。
- 例：「承認者のスキルを上げるのと、部署間の依存を減らすの、どっちが納期を守れるようになる？」
- 例：「今のメンバーのままで仕事が増えたら、どこで破綻する？」

## ステップ2：シナリオを設定する (`scenarios.csv`)
Excelやテキストエディタで `scenarios.csv` を開きます。
- **01_Baseline**: 今の状況を入れます。
- **02_Improved**: 改善したいパラメータ（例：skill_factorを1.2にするなど）を変更した行を追加します。
- **n_trials**: 最初は 50 くらいで試して、正確な結果が欲しくなったら 100〜200 に増やしましょう。

## ステップ3：シミュレーションを実行する
ターミナルで以下のコマンドを打ちます。
```bash
python3 2026/RDIssues/Ver5/run_v5.py
```
プログラムが自動的に並列処理を開始し、統計解析とグラフ作成を行います。

## ステップ4：結果を「検証ゲート」で読み解く
`output/` フォルダにある `v5_step2_gate_...` という画像を見てください。
- **PASS**: そのシナリオは安定していて、目標をクリアしています。
- **FAIL**: どこかに問題があります。平均待ち時間が長すぎたり、結果が不安定（ばらつき大）だったりします。

## ステップ5：統計的な「勝ち」を確認する
`v5_step3_comparison_ci.png` を見ます。
- 棒グラフの上に付いている「ヒゲ（エラーバー）」が信頼区間です。
- 改善案のヒゲが Baseline のヒゲと重なっていなければ、その改善は「たまたま」ではなく、**統計的に確実な効果**があると言えます。

## よくある質問 (FAQ)
- **Q: 並列処理でエラーが出る**
  - A: CPUの負荷が高い場合は `run_v5.py` 内の `use_parallel=False` に書き換えてみてください。
- **Q: 有意差が出ない**
  - A: 改善幅が小さいか、試行回数 (`n_trials`) が足りない可能性があります。
- **Q: グラフの日本語が化ける**
  - A: Mac環境であれば `Hiragino Sans` や `Arial Unicode MS` が自動で使われますが、環境に合わせて `visualizer_v5.py` のフォント設定を調整してください。
