# DX4MGR Ver5: 実験主導型・検証ゲート付きシミュレーション基盤

Ver5は、単なるシミュレーション実行ツールから、**「実験設計(DOE)」「統計的検証」「品質ゲート」**を統合した、意思決定を強力に支援する解析基盤へと進化しました。
memo3の改良指針に基づき、R&D工程の不確実性を科学的に制御し、客観的なエビデンスに基づく改善提案を可能にします。

## 1. Ver5の新機能と特徴

### A. 実験計画法 (DOE: Design of Experiments)
- **Latin Hypercube Sampling (LHS)** を実装。
- パラメータ空間（スキル、依存度、再作業率など）を体系的にサンプリングし、どの要因が結果に最も強く影響するかを自動探索します。

### B. 検証ゲート (Quality Gates)
- シミュレーション結果を自動判定する仕組みを導入。
- **Gate 1 (基本的ステータス)**: 目標スループットや納期をクリアしているか。
- **Gate 2 (安定性)**: 試行間のばらつき（CV）が許容範囲内か。
- **Gate 3 (統計的精度)**: 信頼区間が十分に絞り込まれているか。

### C. 高度な統計的解析
- **95% 信頼区間 (Confidence Intervals)**: 平均値の確からしさを可視化。
- **仮説検定 (Hypothesis Testing)**: 改善案がBaselineに対して「有意に」向上しているかを判定。

### D. 高速化 (Parallel Processing)
- Pythonの `multiprocessing` を活用。
- 大規模なモンテカルロ試行（数百〜数千回）をマルチコアCPUで並列実行し、解析時間を大幅に短縮します。

## 2. ファイル構成

- `run_v5.py`: メイン実行スクリプト。解析パイプライン全体を制御。
- `simulator_v5.py`: DES（離散イベントシミュレーション）エンジン＋並列実行ロジック。
- `analyzer_v5.py`: 検証ゲート、信頼区間計算、仮説検定などの解析コア。
- `visualizer_v5.py`: 統計的情報を付加した高度な可視化モジュール。
- `scenarios.csv`: シミュレーション条件定義ファイル。

## 3. 使い方

1. `scenarios.csv` を編集して、比較したいケースを定義します。
2. 以下のコマンドを実行します。
   ```bash
   python3 2026/RDIssues/Ver5/run_v5.py
   ```
3. `output/` ディレクトリに生成される画像と `v5_final_analysis_report.json` を確認します。

## 4. 付属ガイド

- `GUIDE_v5_JP.md`: 理論的背景と内部構造の解説。
- `CHANGE_LOG_v5.md`: Ver4からの具体的な変更点。
- `BEGINNER_GUIDE_v5_JP.md`: 初めて使う人向けのステップバイステップガイド。
