# DX4MGR Ver4: パラメータ設定ガイド

このガイドでは、シミュレーションで使用する各パラメータの意味、現実の業務との対応、および推奨される計算方法について解説します。

---

## 1. 基本パラメータ（業務量と処理能力）

### `arrival_vp_per_day` (到着率)
- **意味**: 1日あたりに新しく発生する「承認・判断が必要な仕事」の量。
- **単位**: VP/day (Value Point per Day)
- **計算方法**: 
  - 過去1ヶ月の承認依頼件数を営業日数で割る。
  - 重要度や規模が異なる場合は、重み付け（小=1, 中=3, 大=5など）をした合計値を使用する。

### `service_vp_per_day` (基準処理能力)
- **意味**: 承認者（または会議体）が、依存関係やスキルの影響を考慮しない場合に、1日で処理できる最大の仕事量。
- **計算方法**: 
  - 1件の承認に平均1時間かかる人が、1日4時間をその業務に充てられる場合、`4 VP/day` となる。

### `approvers` (承認者数)
- **意味**: 並行して承認・判断を行えるライン数。
- **考え方**: 
  - 最終決定者が1人なら `1`。
  - 課長3人がそれぞれ独立して判断できるなら `3`。

### `days` (シミュレーション期間)
- **意味**: シミュレーションを行う期間（日）。通常は四半期（90日）や半年（180日）を設定。

---

## 2. 変数・調整パラメータ（組織と個人の特性）

### `skill_factor` (スキル因子)
- **意味**: 承認者の判断能力や専門知識による処理速度の変化。
- **目安**:
  - `1.0`: 標準（現在の平均的な速さ）
  - `1.3`: 熟練（判断が早く、迷いが少ない）
  - `0.7`: 新任（判断に時間がかかる、調査が必要）

### `dependency_level` (組織的依存度)
- **意味**: 他部門との調整、設備予約、外部への問い合せなど、自チームだけで完結できない度合い。
- **設定値 (0.0 〜 1.0)**:
  - `0.1`: ほぼ自チームで完結。
  - `0.5`: 半分の案件で他部署の合意やデータ待ちが発生。
  - `0.9`: 常に他部署の制約を受ける。

### `skill_at_dependency_resolution` (依存解消能力)
- **意味**: 承認者が持つ「組織の壁」を突破するスキル（交渉力、顔の広さ、調整力）。
- **効果**: この値を上げると、`dependency_level` によるロスが軽減されます。

### `coordination_penalty` (調整ペナルティ係数)
- **意味**: 依存関係が1つ増えた時に、どれだけ指数関数的に手間が増えるか（会議の数、メールの往復など）。
- **目安**:
  - `1.0`: 標準的。
  - `2.0`: 手続きが煩雑、合意形成が困難な組織文化。

### `p_rework` (再作業確率)
- **意味**: 承認で「差し戻し」が発生する確率（0.0 〜 1.0）。
- **考え方**:
  - `0.1`: 10件に1件は差し戻し。
  - `0.4`: 要件定義が曖昧、または品質基準が厳しく、頻繁にやり直しが発生。

---

## 3. シミュレーション制御

### `n_trials` (試行回数)
- **意味**: モンテカルロシミュレーションで何回繰り返すか。
- **推奨**: `50` 〜 `200`。回数が多いほど結果の分布（P90など）が安定しますが、計算時間は長くなります。

---

## パラメータ設定のコツ
1. **まずは「現状」を再現する**: 実際のリードタイム（待ち時間）やスループットに近くなるようにパラメータを微調整します。
2. **一つずつ変える**: 改善案を検討する際は、複数のパラメータを同時に変えず、一つずつ変えて「どの変数が最も効くか（感度）」を確認してください。
3. **「詰まり」を見る**: `arrival / (approvers * effective_service)` が `1.0` を超えると、待ち行列が無限に発散します。現実でも「残業でカバー」している状態は、ここが `1.0` に近いことを意味します。
